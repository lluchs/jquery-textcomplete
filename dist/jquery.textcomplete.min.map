{"version":3,"file":"dist/jquery.textcomplete.min.js","sources":["dist/jquery.textcomplete.js"],"names":["factory","define","amd","module","exports","$","require","jQuery","Error","warn","message","console","id","fn","textcomplete","strategies","option","args","Array","prototype","slice","call","arguments","this","each","self","$this","completer","data","_oid","Completer","shift","apply","removeData","obj","name","register","Strategy","parse","el","$el","element","uniqueId","views","extend","_getDefaults","is","isContentEditable","contentEditable","document","activeElement","initialize","one","lock","func","locked","queuedArgsToReplay","unshift","replayOrFree","replayArgs","undefined","isString","Object","toString","isFunction","DEFAULTS","appendTo","zIndex","adapter","dropdown","get","Dropdown","Adapter","viewName","selectionEnd","destroy","off","trigger","text","skipUnchangedTerm","getTextFromHeadToCaret","searchQuery","_extractSearchQuery","length","term","_term","_search","deactivate","fire","eventName","push","select","value","strategy","e","focus","_clearAtNext","i","context","matchRegexp","match","index","free","search","stillSearching","shown","activate","clear","setPosition","getCaretPosition","render","_zip","map","createElement","_data","$inputEl","listPosition","height","_i","_bindEvents","dropdownViews","$window","window","include","zippedData","datum","elem","idProperty","on","originalEvent","keepTextCompleteDropdown","key","view","commands","SKIP_DEFAULT","KEY_UP","KEY_DOWN","KEY_ENTER","KEY_PAGEUP","KEY_PAGEDOWN","KEY_ESCAPE","$parent","addClass","attr","css","display","left","position","footer","header","maxCount","placement","className","contentsHtml","_buildContents","unzippedData","d","_renderHeader","_renderFooter","_renderContents","_fitToBottom","_activateIndexedItem","_setScroll","noResultsMessage","_renderNoResultsMessage","pos","_applyPlacement","add","parents","not","html","_index","_$header","_$footer","_$noResultsMessage","show","hide","removeClass","isUp","keyCode","ctrlKey","isDown","isEnter","modifiers","altKey","metaKey","shiftKey","completeOnSpace","isPageup","isPagedown","isEscape","proxy","_onClick","_onMouseover","_onKeydown","target","preventDefault","hasClass","closest","parseInt","setTimeout","type","command","onKeydown","_defaultKeydown","_up","_down","_enter","_pageup","_pagedown","_getActiveElement","threshold","top","innerHeight","children","outerHeight","find","$activeEl","itemTop","itemHeight","visibleHeight","visibleTop","scrollTop","template","prependTo","before","append","windowScrollBottom","offset","indexOf","bottom","parent","lineHeight","right","options","cache","memoize","memo","callback","concat","strategiesArray","params","strategyObj","replace","now","Date","getTime","debounce","wait","timeout","timestamp","result","later","last","constructor","_onKeyup","_getCaretRelativePosition","commonAncestor","filter","addBack","first","offsetParent","commonOffset","_skipSearch","clickEvent","Textarea","DIV_PROPERTIES","whiteSpace","COPY_PROPERTIES","pre","post","substring","newSubstr","isArray","val","selectionStart","dummyDiv","_copyCss","span","remove","overflow","scrollHeight","offsetHeight","_getStyles","color","styles","property","IETextarea","sentinelChar","insertBefore","range","createTextRange","collapse","moveEnd","moveStart","selection","createRange","arr","split","ContentEditable","sel","getSelection","getRangeAt","cloneRange","selectNodeContents","startContainer","content","startOffset","deleteContents","node","createTextNode","insertNode","setStart","removeAllRanges","addRange","$node"],"mappings":"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"}